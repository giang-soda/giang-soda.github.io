import{r as x,w as _,g as R}from"./chunk-NL6KNZEE-DI1_50z5.js";import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{u as p,B as d}from"./useTranslation-feJT_527.js";import{a as T,h as y,b as u,c as m,A as g}from"./alert-BO2mogxN.js";import{c as f}from"./utils-lFl4XlOy.js";import"./key-cache-Cd-J3cGT.js";import"./index-B-sjLMhI.js";import"./index-Dc_xSLCS.js";const b=r=>r.replace(/_([a-zA-Z0-9])/g,(e,s)=>/[a-zA-Z]/.test(s)?s.toUpperCase():s),S=(r,e)=>{const s={};for(const[o,n]of Object.entries(e)){const a=E(r,o);if(a!=null)if(Array.isArray(n)&&Array.isArray(a)){const l=n[0];s[o]=a.map(i=>typeof l=="object"&&l!==null?S(i,l):D(i,l))}else typeof n=="object"&&n!==null&&!Array.isArray(n)?s[o]=S(a,n):s[o]=D(a,n)}return s},E=(r,e)=>{const s=Object.keys(r).find(o=>b(o)===e);if(s)return r[s]},D=(r,e)=>e===Date?(r instanceof Date?r:new Date(r)).toISOString():e===Number?Number(r):e===Boolean?!!r:e===String?typeof r=="string"||r===null||r===void 0?r:typeof r=="object"?JSON.stringify(r):String(r):r;function h(r,e){const[s,o]=x.useState(!1),[n,a]=x.useState(null),[l,i]=x.useState(null),{t:O}=p("common");return{isLoading:s,error:n,data:l,call:async()=>{o(!0),a(null),e!=null&&e.isResetDataCall&&i(null);try{r.data&&(e!=null&&e.bodyParamsStruct)?r.data=S(r.data,e.bodyParamsStruct):r.data={};const c=await T(r);return i(c.data),c.data}catch(c){const j=await y(c,{t:O,message:e==null?void 0:e.message});return a(j),i(null),j}finally{o(!1)}},resetData:(c=null)=>{i(c),a(null)}}}function J(){return[{title:"Call Api Hook"},{name:"description",content:"CallApiHook"}]}const H=_(function(){const{t:e}=p("todos"),s=h({method:"get",url:g.TODOS.LIST},{message:{default:e("errors.default"),ERR_TODO_LIST:e("errors.ERR_TODO_LIST")}}),o=h({method:"get",url:R(g.TODOS.ID,{id:1})},{message:{default:e("errors.default"),ERR_TODO_LIST:e("errors.ERR_TODO_LIST")}}),n=h({method:"get",url:g.FAKE_ERROR.PAGE_404},{message:{default:e("errors.default"),ERR_TODO_LIST:e("errors.ERR_TODO_LIST")}}),a=h({method:"post",url:g.FAKE_ERROR.PAGE_404,data:{email:"a1@gmail.com",firstName:"Giang",lastName:"Soda",birathDay:"2022-02-02",metaInfo:{ccCd:"123456789",motoBike:"ware rsx"},connecTion:[{ph_One:"4545",adDr:"xyz",a_b:{c_d:{khong_the:[1,2,"3"],chac_co:[{v_1:new Date("2022-02-07")},{v_2:"2022-02-03"}]}}},{phOne:6666666,adDr:!1}]}},{message:{default:e("errors.default"),ERR_TODO_LIST:e("errors.ERR_TODO_LIST")},bodyParamsStruct:{email:String,firstName:String,connecTion:[{phOne:Number,adDr:Boolean,aB:{cD:{khongThe:[Number],chacCo:[{v1:Date,v2:Date}]}}}]}}),l=i=>{s.resetData(),o.resetData(),n.resetData(),a.resetData(),i.call()};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(d,{onClick:()=>l(s),loading:s.isLoading,children:"Call List"}),t.jsx(d,{onClick:()=>l(o),loading:o.isLoading,children:"Call Id 1"}),t.jsx(d,{onClick:()=>l(n),loading:n.isLoading,children:"Call 404"}),t.jsx(d,{onClick:()=>l(a),loading:a.isLoading,children:"Call Post"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(u,{className:f(s.error?"bg-destructive text-destructive-foreground":"bg-green-100 text-green-800"),children:t.jsxs(m,{children:["Response ",t.jsx("span",{children:s.error?"Error":"Success"})]})}),t.jsx("pre",{children:JSON.stringify(s.data,null,2)})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(u,{className:f(o.error?"bg-destructive text-destructive-foreground":"bg-green-100 text-green-800"),children:t.jsxs(m,{children:["Response ",t.jsx("span",{children:o.error?"Error":"Success"})]})}),t.jsx("pre",{children:JSON.stringify(o.data,null,2)})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(u,{className:f(n.error?"bg-destructive text-destructive-foreground":"bg-green-100 text-green-800"),children:t.jsxs(m,{children:["Response ",t.jsx("span",{children:n.error?"Error":"Success"})]})}),t.jsx("pre",{children:JSON.stringify(n.data||n.error,null,2)})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx(u,{className:f(a.error?"bg-destructive text-destructive-foreground":"bg-green-100 text-green-800"),children:t.jsxs(m,{children:["Response ",t.jsx("span",{children:a.error?"Error":"Success"})]})}),t.jsx("pre",{children:JSON.stringify(a.data||a.error,null,2)})]})]})});export{H as default,J as meta};
