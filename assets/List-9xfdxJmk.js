import{r as j,L as f,w as E}from"./chunk-QMGIS6GS-CAbI30z5.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{c as l,m as T}from"./utils-B8JRlTp4.js";import{b as N,a as S,A as p}from"./use-api-B5gOmQhw.js";import"./PasswordInput-nlRO0sH5.js";import{f as v,u as x,B as m,A as g,T as L}from"./useTranslation-CB6DjjYO.js";import{K as c}from"./key-cache-CudxctG2.js";import{U as b}from"./url-path-Cs_TWY_7.js";import{L as U,D as w}from"./DeleteModal-Ccgyk3xw.js";import{t as R}from"./index-CTj11U9e.js";import"./QueryClientProvider-CFXmjb4k.js";import"./index-Bj8AgPX5.js";import"./dialog-HqnFpg7r.js";import"./index-tquyZ7Ec.js";import"./Combination--pNn7Nwh.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D=v("square-pen",k);function I({className:s,...t}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:l("w-full caption-bottom text-sm",s),...t})})}function _({className:s,...t}){return e.jsx("thead",{"data-slot":"table-header",className:l("[&_tr]:border-b",s),...t})}function A({className:s,...t}){return e.jsx("tbody",{"data-slot":"table-body",className:l("[&_tr:last-child]:border-0",s),...t})}function o({className:s,...t}){return e.jsx("tr",{"data-slot":"table-row",className:l("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function d({className:s,...t}){return e.jsx("th",{"data-slot":"table-head",className:l("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function i({className:s,...t}){return e.jsx("td",{"data-slot":"table-cell",className:l("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function q(){const{t:s}=x("common");return e.jsx("div",{className:"flex items-center justify-center py-12",children:s("pagination.nodata")})}function C({queryResponse:s,colSpan:t=1,children:n}){return e.jsx(e.Fragment,{children:s.query.isLoading?e.jsx(o,{children:e.jsx(i,{colSpan:t,children:e.jsx(U,{})})}):s.query.isError?e.jsx(o,{children:e.jsx(i,{colSpan:t,children:e.jsx("div",{className:"flex flex-col items-center gap-2 text-xl font-bold text-red-500",children:e.jsx("p",{children:s.query.error.message})})})}):!s.query.data||s.query.data.length===0?e.jsx(o,{children:e.jsx(i,{colSpan:t,children:e.jsx(q,{})})}):s.query.data.map(a=>n(a))})}function P({queryResponse:s,refreshQuerykey:t}){const{t:n}=x(["common"]),a=N();return e.jsx(m,{loading:s.query.isFetching,icon:g.RELOAD,onClick:()=>{a.call(t),s.query.refetch().then(h=>{h.isSuccess&&R.success(n("pagination.reloadSuccess",{ns:"common"}))})},children:n("pagination.reload",{ns:"common"})})}function Q(){const{t:s}=x(["common","users"]),[t,n]=j.useState(!1),[a,h]=j.useState(),u=S({method:"get",url:p.USERS.LIST},{querykey:[c.USER_LIST],message:{default:s("errors.list_default",{ns:"users"})}}),y=r=>{h(r),n(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex justify-start gap-2 md:justify-end",children:[e.jsx(P,{queryResponse:u,refreshQuerykey:[c.USER_DETAIL]}),e.jsx(f,{to:b.USERS.CREATE,children:e.jsx(m,{icon:g.CREATE,children:s("actions.create",{ns:"common"})})})]}),e.jsxs(I,{children:[e.jsx(_,{children:e.jsxs(o,{children:[e.jsx(d,{children:"ID"}),e.jsx(d,{children:s("list.email",{ns:"users"})}),e.jsx(d,{children:s("list.name",{ns:"users"})}),e.jsx(d,{children:s("actions.actions",{ns:"common"})})]})}),e.jsx(A,{children:e.jsx(C,{queryResponse:u,colSpan:4,children:r=>e.jsxs(o,{children:[e.jsx(i,{children:r.id}),e.jsx(i,{children:r.email}),e.jsx(i,{children:r.name}),e.jsx(i,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{to:b.USERS.EDIT(r.id),children:e.jsx(m,{variant:"outline",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsx(m,{variant:"outline",onClick:()=>y(r),children:e.jsx(L,{className:"h-4 w-4"})})]})})]},r.id)})})]}),a&&e.jsxs(w,{apiUrl:p.USERS.DELETE(a.id),open:t,setOpen:n,refreshQuerykey:[c.USER_LIST,[c.USER_DETAIL,a.id]],children:[e.jsx("p",{children:s("delete.description",{ns:"users"})}),e.jsxs("div",{className:"mt-5 flex flex-col gap-1",children:[e.jsxs("span",{children:["Name: ",e.jsx("strong",{children:a.name})]}),e.jsxs("span",{children:["Email: ",e.jsx("strong",{children:a.email})]}),e.jsxs("span",{children:["ID: ",e.jsx("strong",{children:a.id})]})]})]})]})}const ee=()=>T("User List"),se=E(function(){const{t}=x("users");return e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 flex items-center justify-between space-y-2",children:e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t("list.title")})}),e.jsx(Q,{})]})});export{se as default,ee as meta};
