import{w as p,L as j}from"./chunk-QMGIS6GS-CAbI30z5.js";import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{u as f,a as h,F as S,b as a,c as o,d as n,e as m,f as i}from"./types-DI1rxw8L.js";import{I as d,P as g}from"./PasswordInput-nlRO0sH5.js";import{K as E}from"./key-cache-CudxctG2.js";import{U as l}from"./url-path-Cs_TWY_7.js";import{t as I}from"./index-CTj11U9e.js";import{u as U,E as b}from"./user-schema-Co1yRg0e.js";import{u as C,A as F}from"./use-api-B5gOmQhw.js";import{u,B as T,A as R}from"./useTranslation-CB6DjjYO.js";import{m as A}from"./utils-B8JRlTp4.js";import"./index-Bj8AgPX5.js";import"./QueryClientProvider-CFXmjb4k.js";function L(){const{t:r}=u(["common","users","validate"]),t=f({resolver:h(U(r)),defaultValues:{name:"",email:"",password:""}}),c=C({method:"post",url:F.USERS.CREATE},{message:{default:r("errors.create_default",{ns:"users"})},bodyParamsStruct:{email:String,name:String,password:String},refreshQuerykey:[E.USER_LIST],redirect:l.USERS.LIST,onSuccess:e=>{I.success(r("success.create",{ns:"users",id:e.name}))}}),x=e=>{c.mutation.mutate(e)};return s.jsx(S,{...t,children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),t.handleSubmit(x)(e)},className:"grid gap-5",children:[s.jsx(a,{control:t.control,name:"email",render:({field:e})=>s.jsxs(o,{children:[s.jsx(n,{children:r("list.email",{ns:"users"})}),s.jsx(m,{children:s.jsx(d,{type:"email",placeholder:"admin@gmail.com",...e})}),s.jsx(i,{})]})}),s.jsx(a,{control:t.control,name:"name",render:({field:e})=>s.jsxs(o,{children:[s.jsx(n,{children:r("list.name",{ns:"users"})}),s.jsx(m,{children:s.jsx(d,{placeholder:"Soda name",...e})}),s.jsx(i,{})]})}),s.jsx(a,{control:t.control,name:"password",render:({field:e})=>s.jsxs(o,{children:[s.jsx(n,{children:r("list.password",{ns:"users"})}),s.jsx(m,{children:s.jsx(g,{...e})}),s.jsx(i,{})]})}),s.jsx(b,{loading:c.mutation.isPending,backTo:l.USERS.LIST})]})})}const V=()=>A("User Create"),Y=p(function(){const{t}=u("users");return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx(j,{to:l.USERS.LIST,children:s.jsx(T,{variant:"link",icon:R.BACK})}),s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t("create.title")})]}),s.jsx(L,{})]})});export{Y as default,V as meta};
