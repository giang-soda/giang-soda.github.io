import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{u as x,a as j,F as f,b as o,c as a,d as i,e as m,f as n}from"./form-Dmv1pmwz.js";import{I as d}from"./input-D-_1mv6L.js";import{L as S}from"./chunk-QMGIS6GS-DZztEkVs.js";import{P as h}from"./debounce-D9ctexka.js";import{t as I}from"./index-CGgTmrc1.js";import{a as g}from"./local-storage-DWUcO9io.js";import{U as l}from"./url-path-DazeSMIU.js";import{u as E,E as A}from"./user-schema-8hmsRQQn.js";import{u as b,A as F}from"./use-api-CkHLgVxI.js";import{u}from"./useTranslation-BTxYNbzO.js";import{B as T,A as U}from"./button-DZ4teuIw.js";import"./utils-BA6gyYTm.js";import"./label-2IwhEJvq.js";import"./i18nInstance-CZ4THbp4.js";import"./index-Eq7z2fNl.js";import"./auth-_r7jvU0l.js";import"./eye-P0uHH9uI.js";import"./loader-circle-CzWM3YVe.js";import"./QueryClientProvider-CHEzqbNR.js";function N(){const{t:e}=u(["common","users","validate"]),t=x({resolver:j(E(e)),defaultValues:{name:"",email:"",password:""}}),c=b({method:"post",url:F.USERS.CREATE},{message:{default:e("errors.create_default",{ns:"users"})},bodyParamsStruct:{email:String,name:String,password:String},refreshQuerykey:[g.USER_LIST],redirect:l.ADMIN.USERS.LIST,onSuccess:r=>{I.success(e("success.create",{ns:"users",id:r.name}))}}),p=r=>{c.mutation.mutate(r)};return s.jsx(f,{...t,children:s.jsxs("form",{onSubmit:r=>{r.preventDefault(),t.handleSubmit(p)(r)},className:"grid gap-5",children:[s.jsx(o,{control:t.control,name:"email",render:({field:r})=>s.jsxs(a,{children:[s.jsx(i,{children:e("list.email",{ns:"users"})}),s.jsx(m,{children:s.jsx(d,{type:"email",placeholder:"admin@gmail.com",...r})}),s.jsx(n,{})]})}),s.jsx(o,{control:t.control,name:"name",render:({field:r})=>s.jsxs(a,{children:[s.jsx(i,{children:e("list.name",{ns:"users"})}),s.jsx(m,{children:s.jsx(d,{placeholder:"Soda name",...r})}),s.jsx(n,{})]})}),s.jsx(o,{control:t.control,name:"password",render:({field:r})=>s.jsxs(a,{children:[s.jsx(i,{children:e("list.password",{ns:"users"})}),s.jsx(m,{children:s.jsx(h,{...r})}),s.jsx(n,{})]})}),s.jsx(A,{loading:c.mutation.isPending,backTo:l.ADMIN.USERS.LIST})]})})}function G(){const{t:e}=u("users");return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx(S,{to:l.ADMIN.USERS.LIST,children:s.jsx(T,{variant:"link",icon:U.BACK})}),s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:e("create.title")})]}),s.jsx(N,{})]})}export{G as default};
